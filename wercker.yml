box: wercker-labs/docker
build:
    steps:
        - script:
            name: java7 and sbt1.13.7 
            code: |-
              # Install Java7
              uname -a
              docker info
              docker --version
#              sudo apt-get update
#              sudo apt-get install -y build-essential
#              sudo apt-get install -y software-properties-common
#              sudo apt-get install python-software-properties git-core curl wget -y
#              sudo add-apt-repository ppa:webupd8team/java -y
#              sudo apt-get update
#              echo debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections
#              echo debconf shared/accepted-oracle-license-v1-1 seen true |  sudo debconf-set-selections
#              sudo apt-get install oracle-java7-installer -qq
#
#              wget http://dl.bintray.com/sbt/debian/sbt-0.13.7.deb
#              sudo dpkg -i sbt-0.13.7.deb
#              sudo apt-get update

        - script:
            name: docker login --username="$DOCKER_USERNAME" --password="$DOCKER_PASSWORD" --email="$DOCKER_EMAIL"
            code: |-
                docker login --username="$DOCKER_USERNAME" --password="$DOCKER_PASSWORD" --email="$DOCKER_EMAIL"
        - script:
            name: sbt clean compile dockerBuildAndPush
            code: |-
                sbt clean compile dockerBuildAndPush
